{% extends "base.html" %}
{% block content %}

    <h3 class="amber-text center-align">Edit Book Review</h3>

    <div class="row card-panel grey lighten-5">
        <form class="col s12" method="POST" action="{{ url_for('edit_book', book_id=book._id) }}">

          <!--title-->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-book prefix amber-text"></i>
              <input id="book_title" name="book_title" minlength="5" maxlength="100"
                  value="{{ book.book_title}}" type="text" class="validate" required>
              <label for="book_title">Book Title</label>
            </div>
          </div>

          <!--author-->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-book prefix amber-text"></i>
              <input id="book_author" name="book_author" minlength="5" maxlength="100"
              value="{{ book.book_author}}" type="text" class="validate" required>
              <label for="book_author">Author</label>
            </div>
          </div>

          <!--genre dropdown-->
          <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-book prefix amber-text"></i>
                <select multiple id="genre" name="genre[]" class="validate" required>
                  <option value="" disabled>Genre</option>
                  {% if book.genre %}
                  {% for genre in book.genre %}
                    <option value="{{ book.book_title }}" selected>{{ book.genre }}</option>
                  {% endfor %}
                  {% else %}
                  <optgroup label="Fiction:"></optgroup>
                      <option value="Children's fiction">Children's fiction</option>
                      <option value="Young Adult fiction">Young Adult fiction</option>
                      <option value="Adult fiction">Adult fiction</option>
                      <option value="Fantasy fiction">Fantasy fiction</option>
                      <option value="Science fiction">Science fiction</option>
                      <option value="Historical fiction">Historical fiction</option>
                      <option value="Mystery">Mystery</option>
                      <option value="Horror">Horror</option>
                      <option value="Action & Adventure">Action & Adventure</option>
                      <option value="Romance">Romance</option>
                      <option value="Contemporary fiction">Contemporary fiction</option>
                  </optgroup>
                  <optgroup label="Non-fiction:">
                      <option value="Children's non-fiction">Children's non-fiction</option>
                      <option value="Adult non-fiction">Adult non-fiction</option>
                      <option value="Biography/Autobiography">Biography/Autobiography</option>
                      <option value="Self-help">Self-help</option>
                      <option value="Food & drink">Food & drink</option>
                      <option value="Art & Photography">Art & Photography</option>
                      <option value="History">History</option>
                      <option value="Travel">Travel</option>
                      <option value="True crime">True crime</option>
                      <option value="Humour">Humour</option>
                      <option value="Guide/How to...">Guide/How to...</option>
                      <option value="Social Sciences">Social Sciences</option>
                      <option value="Science & technology">Science & technology</option>
                      <option value="Languages">Languages</option>
                      <option value="Non-fiction">Non-fiction</option>
                      <option value="Religon & Spirituality">Religon & Spirituality</option>
                      <option value="Sport">Sport</option>
                    </optgroup>
                    {% endif %}
                </select>
            </div>
          </div>

          <!--rating-->
          <div class="row star_rating">
            <div class="input-field col s12">
              <i class="fas fa-star prefix amber-text"></i>
              <div class="col s1 offset-s1">Rating: </div>
              <div id="rateYo" name="rateYo" class="amber-text  col s10"></div>
              <input type="hidden" name="rating" id="rating" value="{{ book.rating }}">
            </div>
          </div>
          
          <!--book description-->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-pencil-alt prefix amber-text"></i>
              <textarea id="book_description" name="book_description" minlength="5"
                  maxlength="2000" class="materialize-textarea validate" required>
                {{- book.book_description -}}
                </textarea>
              <label for="book_description">Book Description</label>
            </div>
          </div>

          <!--link to a book cover image-->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-image prefix amber-text"></i>
              <input id="book_cover" name="book_cover" minlength="10" maxlength="250"
              value="{{ book.book_cover}}" type="text">
              <label for="book_cover">Insert a url link to the book cover image (optional)</label>
            </div>
          </div>

          <!--submit button--> 
          <div class="row">
            <div class="col s12 center-align">
              <button class="btn waves-effect waves-light amber" type="submit">Confirm Changes
              </button>
            </div>
          </div>
        </form>
      </div>

{% endblock %}